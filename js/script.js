const icon = {
  close: "../icon/cancel.svg",
  time: `<svg
              width="800px"
              height="800px"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM3.00683 12C3.00683 16.9668 7.03321 20.9932 12 20.9932C16.9668 20.9932 20.9932 16.9668 20.9932 12C20.9932 7.03321 16.9668 3.00683 12 3.00683C7.03321 3.00683 3.00683 7.03321 3.00683 12Z"
                fill="#0F0F0F"
              />
              <path
                d="M12 5C11.4477 5 11 5.44771 11 6V12.4667C11 12.4667 11 12.7274 11.1267 12.9235C11.2115 13.0898 11.3437 13.2343 11.5174 13.3346L16.1372 16.0019C16.6155 16.278 17.2271 16.1141 17.5032 15.6358C17.7793 15.1575 17.6155 14.5459 17.1372 14.2698L13 11.8812V6C13 5.44772 12.5523 5 12 5Z"
                fill="#0F0F0F"
              />
            </svg>`,
  gravity: `<svg
              fill="#000000"
              height="800px"
              width="800px"
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 512 512"
              xml:space="preserve"
            >
              <g>
                <g>
                  <path
                    d="M447.615,235.852l-10.986-10.986c-3.524-3.522-9.235-3.524-12.76,0c-3.524,3.524-3.524,9.237,0,12.76l4.606,4.606
        l-12.445,12.445c-19.984,19.975-52.501,19.976-72.488,0.001l-12.448-12.446l12.449-12.447c15.975-15.976,40.125-19.65,60.098-9.14
        c4.413,2.322,9.867,0.626,12.185-3.783c2.322-4.41,0.627-9.866-3.783-12.186c-26.073-13.721-57.413-9.564-78.987,10.181
        c0.964-12.721-1.9-25.004-11.616-34.721c-3.524-3.522-9.235-3.524-12.76,0c-3.524,3.524-3.524,9.237,0,12.76
        c11.525,11.525,5.693,32.102-1.228,47.334c-3.155,6.945-6.838,13.454-10.212,18.884c-10.91-29.049-31.229-49.039-58.561-57.117
        c-41.27-12.197-93.857,4.469-130.858,41.471c-21.435,21.435-36.135,48.359-42.508,77.862c-6.205,28.722-4.296,58.507,5.524,86.14
        c4.268,11.993,13.007,21.694,24.612,27.317c9.425,4.561,17.974,10.648,25.416,18.1c7.459,7.448,13.549,15.996,18.1,25.403
        c5.607,11.603,15.305,20.345,27.311,24.618c17.015,6.047,34.845,9.095,52.743,9.094c11.165,0,22.359-1.186,33.393-3.57
        c29.502-6.374,56.427-21.073,77.862-42.507c22.612-22.607,38.513-52.404,43.627-81.752c0.855-4.909-2.431-9.582-7.341-10.437
        c-4.905-0.855-9.582,2.43-10.437,7.34c-4.491,25.773-18.564,52.048-38.609,72.09c-18.976,18.977-42.806,31.99-68.913,37.63
        c-25.439,5.496-51.817,3.806-76.28-4.888c-7.503-2.671-13.579-8.164-17.11-15.472c-5.436-11.236-12.703-21.435-21.587-30.307
        c-8.865-8.878-19.065-16.141-30.312-21.582c-7.311-3.543-12.807-9.624-15.474-17.121c-8.694-24.465-10.384-50.844-4.888-76.284
        c5.64-26.105,18.653-49.935,37.63-68.913c32.464-32.464,77.867-47.303,112.984-36.926c26.644,7.875,44.455,29.464,51.505,62.436
        c0.743,3.477,3.46,6.193,6.937,6.937c47.272,10.108,61.283,39.178,64.714,61.786c0.747,4.928,5.359,8.313,10.274,7.567
        c4.927-0.747,8.314-5.347,7.567-10.274c-5.442-35.874-28.598-61.514-65.725-73.282c3.257-4.895,7.115-11.137,10.795-18.183
        l11.155,11.154c13.508,13.503,31.254,20.254,48.999,20.254s35.493-6.752,49.003-20.255l18.826-18.827
        C451.138,245.088,451.138,239.376,447.615,235.852z"
                  />
                </g>
              </g>
              <g>
                <g>
                  <path
                    d="M130.325,42.366c-4.983,0-9.022,4.04-9.022,9.023v129.137c0,4.984,4.04,9.023,9.022,9.023c4.983,0,9.023-4.04,9.023-9.023
        V51.389C139.348,46.406,135.308,42.366,130.325,42.366z"
                  />
                </g>
              </g>
              <g>
                <g>
                  <path
                    d="M265.897,28.244c-4.984,0-9.023,4.04-9.023,9.023v18.751c0,4.984,4.039,9.022,9.023,9.022c4.984,0,9.023-4.04,9.023-9.022
        V37.267C274.919,32.284,270.881,28.244,265.897,28.244z"
                  />
                </g>
              </g>
              <g>
                <g>
                  <path
                    d="M265.897,74.664c-4.984,0-9.023,4.04-9.023,9.023v92.602c0,4.984,4.039,9.024,9.023,9.024c4.984,0,9.023-4.04,9.023-9.023
        V83.687C274.919,78.704,270.881,74.664,265.897,74.664z"
                  />
                </g>
              </g>
              <g>
                <g>
                  <path
                    d="M198.111,0c-4.983,0-9.023,4.04-9.023,9.023v81.282c0,4.983,4.04,9.023,9.023,9.023s9.023-4.04,9.023-9.023V9.023
        C207.134,4.04,203.094,0,198.111,0z"
                  />
                </g>
              </g>
              <g>
                <g>
                  <path
                    d="M198.111,107.748c-4.983,0-9.023,4.04-9.023,9.022v28.451c0,4.983,4.04,9.022,9.023,9.022s9.023-4.04,9.023-9.022v-28.451
        C207.134,111.788,203.094,107.748,198.111,107.748z"
                  />
                </g>
              </g>
            </svg>`,
  mass: `<svg
              fill="#000000"
              height="800px"
              width="800px"
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 512 512"
              xml:space="preserve"
            >
              <g>
                <g>
                  <path
                    d="M491.37,179.375c-0.392-1.794-0.827-3.631-1.295-5.46c-1.398-5.456-6.951-8.747-12.412-7.349
        c-5.457,1.398-8.747,6.955-7.35,12.411c0.407,1.59,0.786,3.184,1.124,4.739c1.04,4.773,5.263,8.031,9.956,8.031
        c0.719,0,1.449-0.076,2.181-0.236C489.077,190.313,492.567,184.88,491.37,179.375z"
                  />
                </g>
              </g>
              <g>
                <g>
                  <path
                    d="M501.801,205.513H392.877c3.373-40.183,27.89-74.651,40.345-89.78c6.282,7.602,15.618,20.101,23.782,35.834
        c2.593,4.999,8.75,6.95,13.75,4.355c5-2.594,6.95-8.751,4.356-13.751c-8.016-15.448-17.008-28.019-23.83-36.567
        c15.011-3.772,29.144-11.551,40.752-23.158l7.106-7.106c3.984-3.983,3.984-10.441,0.001-14.424s-10.44-3.983-14.424,0
        l-7.108,7.107c-22.147,22.147-56.261,26.178-82.96,9.804c-28.765-17.642-65.622-17.136-93.893,1.289l-34.555,22.519V67.088
        c0-5.633-4.567-10.199-10.199-10.199c-5.633,0-10.199,4.566-10.199,10.199v35.902l-36.635-23.875
        c-28.27-18.424-65.126-18.93-93.894-1.289c-26.698,16.375-60.814,12.342-82.959-9.805l-7.106-7.106
        c-3.983-3.983-10.442-3.983-14.424,0c-3.983,3.983-3.983,10.441,0,14.425l7.106,7.106c12.049,12.049,26.823,19.965,42.473,23.562
        c-14.804,18.584-39.283,55.502-42.367,99.505h-7.794C4.566,205.514,0,210.08,0,215.713c0,43.448,35.347,78.795,78.795,78.795
        c43.448,0,78.795-35.347,78.795-78.795c0-5.633-4.566-10.199-10.199-10.199h-7.793c-3.061-43.664-27.187-80.351-42.023-99.071
        c9.807-2.017,19.406-5.733,28.363-11.226c22.087-13.547,50.386-13.157,72.092,0.989l47.771,31.132V382.01
        c-26.647,4.418-47.614,25.836-51.356,52.702h-21.008c-5.633,0-10.199,4.566-10.199,10.199c0,5.633,4.566,10.199,10.199,10.199
        h165.127c5.632,0,10.199-4.566,10.199-10.199c0-5.633-4.567-10.199-10.199-10.199h-21.008
        c-3.741-26.867-24.709-48.284-51.356-52.702V125.983l45.694-29.778c21.708-14.147,50.005-14.534,72.092-0.99
        c9.505,5.829,19.732,9.659,30.164,11.577c-14.857,18.825-38.704,55.326-41.746,98.72h-7.793c-5.632,0-10.199,4.566-10.199,10.199
        c0,43.448,35.347,78.795,78.795,78.795S512,259.16,512,215.712C512,210.079,507.433,205.513,501.801,205.513z M78.795,274.109
        c-28.721,0-52.667-20.843-57.505-48.197H136.3C131.462,253.266,107.516,274.109,78.795,274.109z M119.125,205.513H38.467
        c3.372-40.177,27.883-74.64,40.34-89.773C91.276,130.845,115.765,165.225,119.125,205.513z M296.508,433.125h-81.015
        c4.563-18.117,20.994-31.569,40.507-31.569S291.944,415.009,296.508,433.125z M433.205,274.109
        c-28.721,0-52.667-20.843-57.505-48.197h115.01C485.872,253.266,461.926,274.109,433.205,274.109z"
                  />
                </g>
              </g>
            </svg>`,
  temp: `<svg
              width="800px"
              height="800px"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <title>temp</title>
              <g>
                <path
                  d="M17,17a5,5,0,1,1-8-4V5a3,3,0,0,1,6,0v8a5,5,0,0,1,2,4M11,8v6.17a3,3,0,1,0,2,0V8H11"
                />
                <rect width="24" height="24" fill="none" />
              </g>
            </svg>`,
};

const planetSrc = {
  mercury: "../planets/mercury.png",
  venus: "../planets/venus.png",
  earth: "../planets/earth.png",
  mars: "../planets/mars.png",
  jupiter: "../planets/jupiter.png",
  saturn: "../planets/saturn.png",
  uranus: "../planets/uranus.png",
  neptune: "../planets/neptune.png",
};

async function getPlanetData(planetName) {
  const api = `https://api.le-systeme-solaire.net/rest/bodies/${planetName}`;
  let response = await fetch(api);
  let data = await response.json();

  return {
    latinName: data.name,
    englishName: data.englishName,
    avgTempK: data.avgTemp,
    gravity: data.gravity,
    timeRotation: data.sideralRotation,
    timeOrbit: data.sideralOrbit,
    mass: data.mass.massValue,
  };
}

let sidebarControl = () => {
  const sidebar = document.getElementById("sidebar");
  const closeIcon = document.getElementById("close-icon");
  const listIcon = document.getElementById("list-menu");
  let widthSidebar = getComputedStyle(sidebar).width;

  closeIcon.addEventListener("click", () => {
    sidebar.style.transform = `translateX(${widthSidebar})`;
  });
  listIcon.addEventListener("click", () => {
    sidebar.style.transform = `translateX(0)`;
  });
};

async function getTime(planetName) {
  const timeRotation = document.getElementById("time-rotation");
  planetName = await getPlanetData(planetName);

  timeRotation.innerHTML = `${Math.round(planetName.timeRotation)} Hours`;
}

async function getGravity(planetName) {
  const gravity = document.getElementById("gravity");
  planetName = await getPlanetData(planetName);

  gravity.innerHTML = `${Math.round(planetName.gravity)} m/s`;
}

async function getMass(planetName) {
  const mass = document.getElementById("mass");
  planetName = await getPlanetData(planetName);

  mass.innerHTML = `${planetName.mass.toFixed(2)} x 10^25 kg`;
}

async function getTemp(planetName) {
  const temp = document.getElementById("temp");
  planetName = await getPlanetData(planetName);

  temp.innerHTML = `${planetName.avgTempK} K`;
}

async function createElement(planetName) {
  let section = document.getElementById(planetName);
  let planet = await getPlanetData(planetName);

  section.innerHTML = `
          <img id="img-planet" class="container-img basis-3/4" src="${planetSrc[planetName]}"></img>
        <div class="desc px-7 grid grid-rows-4 grid-cols-8 gap-8 basis-1/4">
          <div
            class="row-span-2 col-span-2 flex flex-col items-center justify-between gap-4"
          >
            ${icon.time}
            <label id="time-rotation" class="text-center">${planet.timeOrbit}</label>
          </div>
          <div
            class="row-span-2 col-span-2 flex flex-col items-center justify-between gap-4"
          >
            ${icon.gravity}
            <label id="gravity" class="text-center">${planet.gravity}</label>
          </div>
          <div
            class="row-span-2 col-span-2 flex flex-col items-center justify-between gap-4"
          >
            ${icon.mass}
            <label id="mass" class="text-center">${planet.mass}</label>
          </div>
          <div
            class="row-span-2 col-span-2 flex flex-col items-center justify-between gap-4"
          >
            ${icon.temp}
            <label id="temp" class="text-center">${planet.avgTempK}</label>
          </div>
          <div class="row-span-2 col-span-8 text-justify">
            <p>
              <strong>Bumi</strong> adalah planet ketiga dari Matahari dalam
              tata surya kita, yang unik karena menjadi satu-satunya tempat yang
              diketahui memiliki kehidupan. Planet ini memiliki beragam
              ekosistem dan kondisi geologis yang menakjubkan.
            </p>
          </div>
        </div>`;
}

createElement("mercury")
.then(createElement("venus"))
.then(createElement("earth"))
.then(createElement("mars"))
.then(createElement("saturn"))
.then(createElement("jupiter"))
.then(createElement("uranus"))
.then(createElement("neptune"))

sidebarControl();
